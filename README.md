# Yael Setup
These commands are used when first setting up the server.

```
docker-compose up -d helloworld
docker-compose up -d
docker-compose up -d nginx
docker-compose up -d certbot
docker-compose up
```

## Certbot manual setup
You must first create an A record pointing your domain to the IP address of the server.

Use the command below to generate SSL certificates with certbot manually.

```
sudo certbot certonly --webroot -w /var/www/html -d yourdomain.com -d www.yourdomain.com
```

Verify that certificates exist in /etc/letsencrypt. Directories for live, renewal, etc. should be located there. If the directories don't exist then the certificates were probably not created even if the nginx.conf certbot command was run and indicates otherwise.

## Cron -e for cerbot

```
crontab -e
0 5 1 */2 *  /usr/bin/docker compose -f /var/docker/docker-compose.yml up certbot
```

## References
https://www.programonaut.com/setup-ssl-with-docker-nginx-and-lets-encrypt/

# Tracking with Git
Use the following commands to track version history with Git on the main branch (production).

```
git remote set-url origin git@github.com:matthewwwakeham/yaelprod.git
git status
git add .
git commit -m "comment here"
git push origin main
```

## Notes
The connection from the directory to repositiory on github is an SSH key. A new SSH key can be generated by using the following commands.

```
ssh-keygen -t rsa -b 4096 -C "hostname or email"
cat ~/.ssh/id_rsa.pub
ssh -T git@github.com
```

## Dev Branch
You can create a dev branch (although it already exists) with the following commands.

```
git checkout main
git pull origin main
git checkout -b dev
git push origin dev
git branch
git add .
git commit -m "comment here"
git push origin dev
```

## Merging dev into main
Merge the dev branch into the main branch.

```
git checkout dev
git add .
git commit -m "comment here"
git push
```

```
git checkout dev
git merge main
git checkout main
git merge dev
git push
```

## Update changes

```
sudo docker compose down
sudo docker compose up -d
```

## References
https://medium.com/@gtech.govind2000/a-beginners-guide-to-git-and-github-in-2024-70956b53b254
